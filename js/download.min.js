//download.js v4.2, by dandavis; 2008-2017. [MIT] see http://danml.com/download.html for tests/usage
(function(r,a){"function"===typeof define&&define.amd?define([],a):"object"===typeof exports?module.exports=a():r.download=a()})(this,function(){return function t(a,h,k,p){function q(a){var g=a.split(/[:;,]/);a=g[1];g=("base64"==g[2]?atob:decodeURIComponent)(g.pop());for(var d=g.length,c=new Uint8Array(d),b=0;b<d;++b)c[b]=g.charCodeAt(b);return new e([c],{type:a})}function l(a,b){if("download"in d)return d.href=a,d.setAttribute("download",m),d.className="download-js-link",d.innerHTML="downloading...",
d.style.display="none",document.body.appendChild(d),setTimeout(function(){d.click();document.body.removeChild(d);!0===b&&setTimeout(function(){f.URL.revokeObjectURL(d.href)},250)},66),!0;if(/(Version)\/(\d+)\.(\d+)(?:\.(\d+))?.*Safari\//.test(navigator.userAgent))return/^data:/.test(a)&&(a="data:"+a.replace(/^data:([\w\/\-\+]+)/,"application/octet-stream")),!window.open(a)&&confirm("Displaying New Document\n\nUse Save As... to download, then click back to return to this page.")&&(location.href=a),
!0;var c=document.createElement("iframe");document.body.appendChild(c);!b&&/^data:/.test(a)&&(a="data:"+a.replace(/^data:([\w\/\-\+]+)/,"application/octet-stream"));c.src=a;setTimeout(function(){document.body.removeChild(c)},333)}var f=window,c=k||"application/octet-stream",b=!h&&!k&&a,d=document.createElement("a");k=function(a){return String(a)};var e=f.Blob||f.MozBlob||f.WebKitBlob||k,m=h||"download";e=e.call?e.bind(f):Blob;"true"===String(this)&&(a=[a,c],c=a[0],a=a[1]);if(b&&2048>b.length&&(m=
p,d.href=b,-1!==d.href.indexOf(b))){var n=new XMLHttpRequest;n.open("GET",b,!0);n.responseType="blob";n.onload=function(a){t(a.target.response,m,"application/octet-stream")};setTimeout(function(){n.send()},0);return n}if(/^data:([\w+-]+\/[\w+.-]+)?[,;]/.test(a))if(2096103.424<a.length&&e!==k)a=q(a),c=a.type||"application/octet-stream";else return navigator.msSaveBlob?navigator.msSaveBlob(q(a),m):l(a);else if(/([\x80-\xff])/.test(a)){h=new Uint8Array(a.length);p=h.length;for(b=0;b<p;++b)h[b]=a.charCodeAt(b);
a=new e([h],{type:c})}a=a instanceof e?a:new e([a],{type:c});if(navigator.msSaveBlob)return navigator.msSaveBlob(a,m);if(f.URL)l(f.URL.createObjectURL(a),!0);else{if("string"===typeof a||a.constructor===k)try{return l("data:"+c+";base64,"+f.btoa(a))}catch(g){return l("data:"+c+","+encodeURIComponent(a))}c=new FileReader;c.onload=function(a){l(this.result)};c.readAsDataURL(a)}return!0}});